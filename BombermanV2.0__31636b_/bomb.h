#pragma once
#include "gameobject.h"
#include "player.h"

#define B_STATE_BURN 0
#define STATE_BURN_1 0
#define STATE_BURN_2 1
#define STATE_EXPLODE
#define EXPLOSION_TIME 3000

class Bomb : public Gameobject {
   public:
    Player *player;
    Bomb(Game *game, int x, int y, Player *p);
    void update(int prevUpdate);
    void draw(Gfx *gfx);
    void onDelete(Gfx *gfx);

   private:
    Game *game;
    int countdown = EXPLOSION_TIME;
};

const uint8_t bitBomb[5][32] PROGMEM = {
    {
        // zwart
        0b00000000, 0b00000000, 0b00000000, 0b00000000, 0b00000000, 0b00000000,
        0b00000001, 0b10000000, 0b00000010, 0b01000000, 0b00000010, 0b00110000,
        0b00001111, 0b10000000, 0b00011001, 0b11000000, 0b00110011, 0b11100000,
        0b00100111, 0b11100000, 0b00111111, 0b11100000, 0b00011111, 0b11100000,
        0b00001111, 0b10000000, 0b00000111, 0b00000000, 0b00000000, 0b00000000,
        0b00000000, 0b00000000,
    },
    {
        // geel
        0b00000000, 0b00000000, 0b00000000, 0b00000000, 0b00000000, 0b00001001,
        0b00000000, 0b00000000, 0b00000000, 0b00000000, 0b00000000, 0b00000001,
        0b00000000, 0b00000000, 0b00000000, 0b00000000, 0b00000000, 0b00000001,
        0b00000000, 0b00001000, 0b00000000, 0b00000000, 0b00000000, 0b00000000,
        0b00000000, 0b00000000, 0b00000000, 0b00000000, 0b00000000, 0b00000000,
        0b00000000, 0b00000000,

    },
    {
        // oranje
        0b00000000, 0b00000000, 0b00000000, 0b00000000, 0b00000000, 0b00000000,
        0b00000000, 0b00001010, 0b00000000, 0b00000000, 0b00000000, 0b00001010,
        0b00000000, 0b00000000, 0b00000000, 0b00000010, 0b00000000, 0b00001000,
        0b00000000, 0b00000000, 0b00000000, 0b00000000, 0b00000000, 0b00000000,
        0b00000000, 0b00000000, 0b00000000, 0b00000000, 0b00000000, 0b00000000,
        0b00000000, 0b00000000,

    },
    {
        // lichtgrijs
        0b00000000, 0b00000000, 0b00000000, 0b00000000, 0b00000000, 0b00000000,
        0b00000000, 0b00000000, 0b00000000, 0b00000000, 0b00000000, 0b00000000,
        0b00000000, 0b00000000, 0b00000010, 0b00000000, 0b00000100, 0b00000000,
        0b00001000, 0b00000000, 0b00000000, 0b00000000, 0b00000000, 0b00000000,
        0b00000000, 0b00000000, 0b00000000, 0b00000000, 0b00000000, 0b00000000,
        0b00000000, 0b00000000,
    },
    {
        // wit
        0b00000000, 0b00000000, 0b00000000, 0b00000000, 0b00000000, 0b00000000,
        0b00000000, 0b00000000, 0b00000000, 0b00000000, 0b00000000, 0b00000000,
        0b00000000, 0b00000000, 0b00000100, 0b00000000, 0b00001000, 0b00000000,
        0b00010000, 0b00000000, 0b00000000, 0b00000000, 0b00000000, 0b00000000,
        0b00000000, 0b00000000, 0b00000000, 0b00000000, 0b00000000, 0b00000000,
        0b00000000, 0b00000000,
    },
};

// const uint8_t bitExplosion[4][32] PROGMEM = {
//     {
//         // red
//         0b00001000, 0b00010000, 0b00001000, 0b00010000, 0b00011000, 0b00011000,
//         0b00110000, 0b00001100, 0b11100000, 0b00000111, 0b00000000, 0b00000000,
//         0b00000000, 0b00000000, 0b00000000, 0b00000000, 0b00000000, 0b00000000,
//         0b00000000, 0b00000000, 0b11100000, 0b00000111, 0b00110000, 0b00001100,
//         0b00011000, 0b00011000, 0b00001000, 0b00010000, 0b00001000, 0b00010000,
//     },
//     {
//         // orange
//         0b00000100, 0b00100000, 0b00000100, 0b00100000, 0b00000100, 0b00100000,
//         0b00001000, 0b00010000, 0b00010000, 0b00010000, 0b11100000, 0b00000111,
//         0b00000000, 0b00000000, 0b00000000, 0b00000000, 0b00000000, 0b00000000,
//         0b00000000, 0b00000000, 0b11100000, 0b00000111, 0b00010000, 0b00001000,
//         0b00001000, 0b00010000, 0b00000100, 0b00100000, 0b00000100, 0b00100000,
//         0b00000100, 0b00100000,
//     },
//     {
//         // light orange
//         0b00000010, 0b01000000, 0b00000010, 0b01000000, 0b00000010, 0b01000000,
//         0b00000110, 0b01100000, 0b00001100, 0b00110000, 0b00011000, 0b00011000,
//         0b11110000, 0b00001111, 0b00000000, 0b00000000, 0b00000000, 0b00000000,
//         0b11110000, 0b00001111, 0b00011000, 0b00011000, 0b00001100, 0b00110000,
//         0b00000110, 0b01100000, 0b00000010, 0b01000000, 0b00000010, 0b01000000,
//         0b00000010, 0b01000000,
//     },
//     {
//         // yellow
//         0b00000001, 0b10000000, 0b00000001, 0b10000000, 0b00000001, 0b10000000,
//         0b00000001, 0b10000000, 0b00000011, 0b11000000, 0b00000111, 0b11100000,
//         0b00001111, 0b11110000, 0b11111111, 0b11111111, 0b11111111, 0b11111111,
//         0b00001111, 0b11110000, 0b00000111, 0b11100000, 0b00000011, 0b11000000,
//         0b00000001, 0b10000000, 0b00000001, 0b10000000, 0b00000001, 0b10000000,
//         0b00000001, 0b10000000,
//     },
// };
