#pragma once
#include "gameobject.h"
#include "player.h"

#define EXPLOSION_RANGE 3
#define FIRE_TIME 1000 // 1 seconde

class Explosion : public Gameobject {
   public:
    Player *player;
    Explosion(uint8_t x, uint8_t y, Player *p);
    void update(int prevUpdate);
    void draw(Gfx *gfx);
    void onDelete(Gfx *gfx);
    void onPlayerCollision(Player *p);

    private:
        int countdown = FIRE_TIME;
};

const uint8_t explosion_middle[][32] PROGMEM = {
    {  //rood
   0x10, 0x08, 0x10, 0x08, 0x18, 0x18, 0x0c, 0x30, 0x07, 0xe0, 0x00, 0x00,
   0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x07, 0xe0,
   0x0c, 0x30, 0x18, 0x18, 0x10, 0x08, 0x10, 0x08 },

{
   0x20, 0x04, 0x20, 0x04, 0x20, 0x04, 0x10, 0x08, 0x08, 0x10, 0x07, 0xe0,
   0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x07, 0xe0, 0x08, 0x10,
   0x10, 0x08, 0x20, 0x04, 0x20, 0x04, 0x20, 0x04 },

   {
   0x40, 0x02, 0x40, 0x02, 0x40, 0x02, 0x60, 0x06, 0x30, 0x0c, 0x18, 0x18,
   0x0f, 0xf0, 0x00, 0x00, 0x00, 0x00, 0x0f, 0xf0, 0x18, 0x18, 0x30, 0x0c,
   0x60, 0x06, 0x40, 0x02, 0x40, 0x02, 0x40, 0x02 },

   {
   0x80, 0x01, 0x80, 0x01, 0x80, 0x01, 0x80, 0x01, 0xc0, 0x03, 0xe0, 0x07,
   0xf0, 0x0f, 0xff, 0xff, 0xff, 0xff, 0xf0, 0x0f, 0xe0, 0x07, 0xc0, 0x03,
   0x80, 0x01, 0x80, 0x01, 0x80, 0x01, 0x80, 0x01 },
};



